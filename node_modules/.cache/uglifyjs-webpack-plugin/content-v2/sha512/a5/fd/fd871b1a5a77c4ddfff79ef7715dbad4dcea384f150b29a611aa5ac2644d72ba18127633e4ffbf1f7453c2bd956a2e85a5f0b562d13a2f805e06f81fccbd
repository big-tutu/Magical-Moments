{"map":"{\"version\":3,\"sources\":[\"/Users/nali/myProject/project/src/index.js\"],\"names\":[\"[object Object]\",\"this\",\"init\",\"main\",\"waterfallsFlow\",\"console\",\"log\",\"$\",\"on\",\"e\",\"preventDefault\",\"trigger\",\"page\",\"showTip\",\"UploadImg\",\"url\",\"width\",\"quality\",\"mixsize\",\"type\",\"success\",\"res\",\"code\",\"hint\",\"msg\",\"$container\",\"imgWidth\",\"parseInt\",\"window\",\"screen\",\"masonry\",\"itemSelector\",\"gutterWidth\",\"isResizable\",\"active\",\"$activePage\",\"addClass\",\"siblings\",\"removeClass\",\"tipEle\",\"callback\",\"keep\",\"show\",\"find\",\"one\",\"hideTip\",\"setTimeout\"],\"mappings\":\"mGAgHA,UA5GAA,cACAC,KAAAC,OAEAF,OAEAC,KAAAE,OACAF,KAAAG,iBAGAJ,OACAK,QAAAC,IAAAC,EAAA,eAEAA,EAAA,eAAAC,GAAA,WAAAC,IACAA,EAAAC,iBACAH,EAAA,aAAAI,QAAA,WAGAJ,EAAA,aAAAC,GAAA,WAAAC,IACAA,EAAAC,iBACAT,KAAAW,KAAA,UAGAL,EAAA,aAAAC,GAAA,WAAAC,IACAA,EAAAC,iBACAT,KAAAW,KAAA,UAGAL,EAAA,cAAAC,GAAA,WAAAC,IACAA,EAAAC,iBACAT,KAAAY,QAAA,iBAMAN,EAAA,aAAAO,WACAC,IAAA,6BACAC,MAAA,MACAC,QAAA,MACAC,QAAA,WACAC,KAAA,6EACAC,QAAA,SAAAC,GACA,GAAAA,EAAAC,KACAV,KAAA,SAEAW,KAAAF,EAAAG,QAMAxB,gBAiBAA,iBACA,MAAAyB,EAAAlB,EAAA,YACAmB,EAAAC,SAAAC,OAAAC,OAAAb,OAAA,GACAX,QAAAC,IAAAsB,OAAAC,QAGAxB,QAAAC,IAAAoB,GAEAD,EAAAK,SACAC,aAAA,QACAC,YAAA,EACAC,aAAA,IAIAjC,KAAAkC,GACA,MAAAC,EAAA5B,EAAA,SAAA2B,GACA7B,QAAAC,IAAA6B,GAEAA,EAAAC,SAAA,UAAAC,SAAA,SAAAC,YAAA,UAEAtC,QAAAuC,EAAAC,EAAAC,GACAlC,EAAAgC,GAAAG,OAAAlC,GAAA,aAAAC,IACAA,EAAAC,mBAEA+B,EAKAlC,EAAAgC,GAAAI,KAAA,aAAAC,IAAA,MAAA,WACAC,QAAAN,EAAAC,KALAjC,EAAAgC,GAAAK,IAAA,MAAA,WACAC,QAAA5C,KAAAuC,KAOAM,WAAA,WACAvC,EAAAgC,GAAAH,SAAA,WACK\",\"sourcesContent\":[\"import setHtmlFontSize from './js/rem';\\nimport \\\"./css/style.scss\\\";\\n\\nclass App {\\n  constructor () {\\n    this.init();\\n  }\\n  init () {\\n    // setHtmlFontSize();\\n    this.main();\\n    this.waterfallsFlow();\\n    \\n  }\\n  main () {\\n    console.log($('.btnUpload'));\\n    \\n    $('.btn-upload').on('touchend', e => {\\n      e.preventDefault();\\n      $('#filedata').trigger('click');\\n    });\\n\\n    $('.btn-home').on('touchend', e => {\\n      e.preventDefault();\\n      this.page('home');\\n    });\\n\\n    $('.btn-rank').on('touchend', e => {\\n      e.preventDefault();\\n      this.page('rank');\\n    });\\n\\n    $('.btn-rules').on('touchend', e => {\\n      e.preventDefault();\\n      this.showTip('#page-rules');\\n    });\\n\\n\\n\\n    // 上传图片\\n    $('#filedata').UploadImg({\\n      url: 'api/picture.php?act=upload',\\n      width: '750',\\n      quality: '0.8',\\n      mixsize: '10000000',\\n      type: 'image/png,image/jpg,image/jpeg,image/pjpeg,image/gif,image/bmp,image/x-png',\\n      success: function (res) {\\n        if (res.code == 1) {\\n          page('index');\\n        } else {\\n          hint(res.msg);\\n        }\\n      }\\n    });\\n  }\\n\\n  renderPicker () {\\n    // const data = [\\n    //   {\\n    //     p_id:\\n    //   }\\n    // ]\\n    // let tmplate;\\n\\n    // for (var i = 0; i < res.data.length; i++) {\\n    //   template = `<div class=\\\"item item-${data[i].p_id} masonry-brick\\\" data-id=\\\"${data[i].p_id}\\\" data-src=\\\"${data[i].p_picurl}\\\" style=\\\"position: absolute; top: 10px; left: 320px;\\\"> \\n    //   <img src=\\\"${data[i].p_picurl}\\\">\\n    //   <span class=\\\"btnLike\\\"><i class=\\\"ico-like\\\"></i> <b>${data[i].p_vote}</b></span>                            \\n    //   </div>`;\\n    // };\\n  }\\n\\n  // 图片瀑布流\\n  waterfallsFlow () {\\n    const $container = $('#masonry');\\n    const imgWidth = parseInt(window.screen.width) - 20;\\n    console.log(window.screen);\\n    \\n    // $('.item').css(\\\"width\\\", `${imgWidth/2}px`);\\n    console.log(imgWidth);\\n    \\n    $container.masonry({\\n      itemSelector: '.item',\\n      gutterWidth: 0,\\n      isResizable: true,\\n    });\\n  }\\n  // 切换页面\\n  page (active) {\\n    const $activePage = $(\\\"#page-\\\" + active);\\n    console.log($activePage);\\n    \\n    $activePage.addClass(\\\"active\\\").siblings(\\\".page\\\").removeClass(\\\"active\\\");\\n  }\\n  showTip(tipEle, callback, keep) {\\n    $(tipEle).show().on('touchstart', e => {\\n      e.preventDefault();\\n    })\\n    if (!keep) {\\n      $(tipEle).one('tap', function () {\\n        hideTip(this, callback);\\n      });\\n    } else {\\n      $(tipEle).find('.btnClose').one('tap', function () {\\n        hideTip(tipEle, callback);\\n      });\\n    }\\n    setTimeout(function () {\\n      $(tipEle).addClass('active');\\n    }, 50);\\n  }\\n}\\n\\nnew App();\"]}","code":"webpackHotUpdate(0,{\"./src/index.js\":function(e,t,i){\"use strict\";i.r(t);i(\"./src/css/style.scss\");new class{constructor(){this.init()}init(){this.main(),this.waterfallsFlow()}main(){console.log($(\".btnUpload\")),$(\".btn-upload\").on(\"touchend\",e=>{e.preventDefault(),$(\"#filedata\").trigger(\"click\")}),$(\".btn-home\").on(\"touchend\",e=>{e.preventDefault(),this.page(\"home\")}),$(\".btn-rank\").on(\"touchend\",e=>{e.preventDefault(),this.page(\"rank\")}),$(\".btn-rules\").on(\"touchend\",e=>{e.preventDefault(),this.showTip(\"#page-rules\")}),$(\"#filedata\").UploadImg({url:\"api/picture.php?act=upload\",width:\"750\",quality:\"0.8\",mixsize:\"10000000\",type:\"image/png,image/jpg,image/jpeg,image/pjpeg,image/gif,image/bmp,image/x-png\",success:function(e){1==e.code?page(\"index\"):hint(e.msg)}})}renderPicker(){}waterfallsFlow(){const e=$(\"#masonry\"),t=parseInt(window.screen.width)-20;console.log(window.screen),console.log(t),e.masonry({itemSelector:\".item\",gutterWidth:0,isResizable:!0})}page(e){const t=$(\"#page-\"+e);console.log(t),t.addClass(\"active\").siblings(\".page\").removeClass(\"active\")}showTip(e,t,i){$(e).show().on(\"touchstart\",e=>{e.preventDefault()}),i?$(e).find(\".btnClose\").one(\"tap\",function(){hideTip(e,t)}):$(e).one(\"tap\",function(){hideTip(this,t)}),setTimeout(function(){$(e).addClass(\"active\")},50)}}}});","extractedComments":[]}