!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!b[e]||!y[e])return;for(var n in y[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(h[n]=t[n]);0==--v&&0===g&&O()}(e,n),t&&t(e,n)};var n,i=!0,o="37b639bb814a15ed8313",r=1e4,a={},s=[],d=[];function c(e){var t=M[e];if(!t)return T;var i=function(i){return t.hot.active?(M[i]?-1===M[i].parents.indexOf(e)&&M[i].parents.push(e):(s=[e],n=i),-1===t.children.indexOf(i)&&t.children.push(i)):(console.warn("[HMR] unexpected require("+i+") from disposed module "+e),s=[]),T(i)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return T[e]},set:function(t){T[e]=t}}};for(var r in T)Object.prototype.hasOwnProperty.call(T,r)&&"e"!==r&&"t"!==r&&Object.defineProperty(i,r,o(r));return i.e=function(e){return"ready"===p&&u("prepare"),g++,T.e(e).then(t,function(e){throw t(),e});function t(){g--,"prepare"===p&&(w[e]||k(e),0===g&&0===v&&O())}},i.t=function(e,t){return 1&t&&(e=i(e)),T.t(e,-2&t)},i}var l=[],p="idle";function u(e){p=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var f,h,m,v=0,g=0,w={},y={},b={};function x(e){return+e+""===e?+e:e}function I(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return i=e,u("check"),function(e){return e=e||1e4,new Promise(function(t,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var i=new XMLHttpRequest,r=T.p+""+o+".hot-update.json";i.open("GET",r,!0),i.timeout=e,i.send(null)}catch(e){return n(e)}i.onreadystatechange=function(){if(4===i.readyState)if(0===i.status)n(new Error("Manifest request to "+r+" timed out."));else if(404===i.status)t();else if(200!==i.status&&304!==i.status)n(new Error("Manifest request to "+r+" failed."));else{try{var e=JSON.parse(i.responseText)}catch(e){return void n(e)}t(e)}}})}(r).then(function(e){if(!e)return u("idle"),null;y={},w={},b=e.c,m=e.h,u("prepare");var t=new Promise(function(e,t){f={resolve:e,reject:t}});h={};return k(2),"prepare"===p&&0===g&&0===v&&O(),t})}function k(e){b[e]?(y[e]=!0,v++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=T.p+""+e+"."+o+".hot-update.js",t.appendChild(n)}(e)):w[e]=!0}function O(){u("ready");var e=f;if(f=null,e)if(i)Promise.resolve().then(function(){return j(i)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&t.push(x(n));e.resolve(t)}}function j(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");var n,i,r,d,c;function l(e){for(var t=[e],n={},i=t.slice().map(function(e){return{chain:[e],id:e}});i.length>0;){var o=i.pop(),r=o.id,a=o.chain;if((d=M[r])&&!d.hot._selfAccepted){if(d.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:r};if(d.hot._main)return{type:"unaccepted",chain:a,moduleId:r};for(var s=0;s<d.parents.length;s++){var c=d.parents[s],l=M[c];if(l){if(l.hot._declinedDependencies[r])return{type:"declined",chain:a.concat([c]),moduleId:r,parentId:c};-1===t.indexOf(c)&&(l.hot._acceptedDependencies[r]?(n[c]||(n[c]=[]),f(n[c],[r])):(delete n[c],t.push(c),i.push({chain:a.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];-1===e.indexOf(i)&&e.push(i)}}t=t||{};var v={},g=[],w={},y=function(){console.warn("[HMR] unexpected require("+k.moduleId+") to disposed module")};for(var I in h)if(Object.prototype.hasOwnProperty.call(h,I)){var k;c=x(I);var O=!1,j=!1,D=!1,_="";switch((k=h[I]?l(c):{type:"disposed",moduleId:I}).chain&&(_="\nUpdate propagation: "+k.chain.join(" -> ")),k.type){case"self-declined":t.onDeclined&&t.onDeclined(k),t.ignoreDeclined||(O=new Error("Aborted because of self decline: "+k.moduleId+_));break;case"declined":t.onDeclined&&t.onDeclined(k),t.ignoreDeclined||(O=new Error("Aborted because of declined dependency: "+k.moduleId+" in "+k.parentId+_));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(k),t.ignoreUnaccepted||(O=new Error("Aborted because "+c+" is not accepted"+_));break;case"accepted":t.onAccepted&&t.onAccepted(k),j=!0;break;case"disposed":t.onDisposed&&t.onDisposed(k),D=!0;break;default:throw new Error("Unexception type "+k.type)}if(O)return u("abort"),Promise.reject(O);if(j)for(c in w[c]=h[c],f(g,k.outdatedModules),k.outdatedDependencies)Object.prototype.hasOwnProperty.call(k.outdatedDependencies,c)&&(v[c]||(v[c]=[]),f(v[c],k.outdatedDependencies[c]));D&&(f(g,[k.moduleId]),w[c]=y)}var P,C=[];for(i=0;i<g.length;i++)c=g[i],M[c]&&M[c].hot._selfAccepted&&C.push({module:c,errorHandler:M[c].hot._selfAccepted});u("dispose"),Object.keys(b).forEach(function(e){!1===b[e]&&function(e){delete installedChunks[e]}(e)});for(var L,E,A=g.slice();A.length>0;)if(c=A.pop(),d=M[c]){var S={},H=d.hot._disposeHandlers;for(r=0;r<H.length;r++)(n=H[r])(S);for(a[c]=S,d.hot.active=!1,delete M[c],delete v[c],r=0;r<d.children.length;r++){var $=M[d.children[r]];$&&((P=$.parents.indexOf(c))>=0&&$.parents.splice(P,1))}}for(c in v)if(Object.prototype.hasOwnProperty.call(v,c)&&(d=M[c]))for(E=v[c],r=0;r<E.length;r++)L=E[r],(P=d.children.indexOf(L))>=0&&d.children.splice(P,1);for(c in u("apply"),o=m,w)Object.prototype.hasOwnProperty.call(w,c)&&(e[c]=w[c]);var U=null;for(c in v)if(Object.prototype.hasOwnProperty.call(v,c)&&(d=M[c])){E=v[c];var z=[];for(i=0;i<E.length;i++)if(L=E[i],n=d.hot._acceptedDependencies[L]){if(-1!==z.indexOf(n))continue;z.push(n)}for(i=0;i<z.length;i++){n=z[i];try{n(E)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:c,dependencyId:E[i],error:e}),t.ignoreErrored||U||(U=e)}}}for(i=0;i<C.length;i++){var q=C[i];c=q.module,s=[c];try{T(c)}catch(e){if("function"==typeof q.errorHandler)try{q.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:n,originalError:e}),t.ignoreErrored||U||(U=n),U||(U=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:c,error:e}),t.ignoreErrored||U||(U=e)}}return U?(u("fail"),Promise.reject(U)):(u("idle"),new Promise(function(e){e(g)}))}var M={};function T(t){if(M[t])return M[t].exports;var i=M[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var i=0;i<e.length;i++)t._acceptedDependencies[e[i]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:I,apply:j,status:function(e){if(!e)return p;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:a[e]};return n=void 0,t}(t),parents:(d=s,s=[],d),children:[]};return e[t].call(i.exports,i,i.exports,c(t)),i.l=!0,i.exports}T.m=e,T.c=M,T.d=function(e,t,n){T.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},T.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},T.t=function(e,t){if(1&t&&(e=T(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(T.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)T.d(n,i,function(t){return e[t]}.bind(null,i));return n},T.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return T.d(t,"a",t),t},T.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},T.p="",T.h=function(){return o},c("./src/js/index.js")(T.s="./src/js/index.js")}({"./src/css/style.scss":function(e,t){},"./src/js/index.js":function(e,t,n){"use strict";n.r(t);n("./src/css/style.scss");!function(e,t){t(function(){new class{constructor(){this.currentList="home",this.uploadType={imgs:""},this.loading=!1,this.hasMore=!0,this.isAndroid=navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Adr")>-1,this.currentPage=1,this.api={LIST:"/api/media/list",WX_CONFIG:"/api/getConfig",UPLOAD:"/api/media/upload",MAKE_LOVE:"/api/media/love"},this.init()}async init(){await t.get("/api/getMode",e=>{if(0===e.ret){const n=e.data.mode;this.mode=n,1===n&&t("#filedata").attr("accept","image/*")}else this.showTost("网络出现故障")}),this.wxJssdk(),this.main(),this.renderBanner(),this.prefix(),this.waterfallsFlow(),this.previewPic(),this.handleLike(),this.showTip(),this.scrollLoadMore(),this.getList({page:1,patten:1,count:20},"home")}main(){t(".btn-upload").on("tap",e=>{e.preventDefault(),t("#filedata").trigger("click")}),t(".btn-home").on("tap",e=>{e.preventDefault(),window.location.href=window.location.href,this.page("home")}),t(".btn-rank").on("tap",e=>{e.preventDefault(),this.page("rank")}),t(window).on("resize",()=>{setInterval(function(){t("#masonry").masonry("reload")},100)}),t("#filedata").UploadImg({url:this.api.UPLOAD,width:"750",showTips:this.showTost,quality:"0.8",mixsize:3145728,videoSize:52428800,videoType:"video/ogg,video/mp4,video/WebM,video/quicktime,video/x-msvideo",type:"image/png,image/jpg,image/jpeg,image/pjpeg,image/gif,image/bmp,image/x-png",success:e=>{0===e.ret?(this.showTost("上传成功"),setTimeout(()=>{this.page("home")},500),this.currentList="home"):this.showTost(e.msg||"上传失败稍后重试")},error(e){}})}waterfallsFlow(){const e=t("#masonry");parseInt(window.screen.width),e.masonry({itemSelector:".item",gutterWidth:0,isResizable:!0})}page(e){const n=t("#page-"+e);n.addClass("active").siblings(".page").removeClass("active"),n.find(".preview").html(""),this.getList({page:1,count:"home"===e?20:10,patten:"home"===e?1:2},e)}showTip(){const e=t("#page-rules");t(".btn-rules").on("tap",t=>{t.preventDefault(),e.show(),setTimeout(function(){e.addClass("show")},50)}),t(".close").on("tap",n=>{e.removeClass("show").one("webkitTransitionEnd",function(){t(this).hide()})})}getList(e,n){const i=this.api.LIST,o=this,r=e;o.loading=!0,t.get(i,r,e=>{if(o.loading=!1,0===e.ret){const i=e.data.dataList;o.videoId=[],i.length<20&&(this.hasMore=!1),o.hasMore=20===i.length;const r=i.map(e=>1===e.mediaType?`<div class="item masonry-brick" data-id="${e.id}" data-src="${e.path}" data-love="${0===e.isVoted?1:2}">\n                <img src="${e.path}">\n                <div class="pick-info">\n                  <i class="type iconfont icon-tupianx"></i>\n                  <span class="btnLike">\n                    <i class="iconfont ${1===e.isVoted?"icon-dianzanedx":"icon-dianzanx"}"></i>\n                    <b>${e.voteNum}</b>\n                  </span>\n                </div>\n              </div>`:`<div class="item video masonry-brick" data-id="${e.id}" data-love="${0===e.isVoted?1:2}" data-videoPath="${e.path}">\n                <img src="${e.videoCover}">\n                <div class="pick-info">\n                  <i class="type iconfont icon-shipinx"></i>\n                  <span class="btnLike">\n                    <i class="iconfont ${1===e.isVoted?"icon-dianzanedx":"icon-dianzanx"}"></i>\n                    <b>${e.voteNum}</b>\n                  </span>\n                </div>\n              </div>`);t(`#page-${n}`).find(".preview").append(r.join("")),setInterval(function(){t("#masonry").masonry("reload")},100)}else o.showTost(e&&e.msg||"网络错误，请稍后重试")})}previewPic(){const e=this;t(".preview").on("tap",':not(".btnLike")',n=>{n.preventDefault();const i=t(n.target);if(i.hasClass("btnLike")||i.parents(".btnLike").length)return;const o=i.parents(".item");if(o.hasClass("video")){const t=o.attr("data-videoPath");return o.attr("videoPath"),e.playVidoeIOS(t,o.data("id")),!1}const r=[];return o.parents(".preview").find(".item").map((e,n)=>{const i=t(n).attr("data-src");return i&&r.push(i),i}),"undefined"!=typeof wx?(wx.previewImage({current:o.data("src")||o.attr("src"),urls:r}),!1):void 0})}wxJssdk(){const e=this.api.WX_CONFIG;/MicroMessenger/i.test(navigator.userAgent)&&t.getScript("https://res.wx.qq.com/open/js/jweixin-1.0.0.js",function(){t.get(e,{path:window.location.href.split("#")[0]},e=>{if(0===e.ret){const t=e.data;wx.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","hideMenuItems","previewImage"]}),wx.ready(function(){const e={title:"Photo Moments for FY19 IRM SUMMIT",link:"http://photo-moments.yxking.xyz/mobile/index",desc:"Welcome to the Photo Moments for the FY19 IRM SUMMIT, here you can upload and get real-time photos of the meeting!",imgUrl:"http://photo-moments.yxking.xyz/static/imgs/default_lecture.png",success:function(){},cancel:function(){}};wx.onMenuShareTimeline(e),wx.onMenuShareAppMessage(e),wx.hideMenuItems({menuList:["menuItem:share:qq","menuItem:share:weiboApp","menuItem:share:facebook","menuItem:share:QZone","menuItem:favorite","menuItem:copyUrl","menuItem:readMode","menuItem:openWithQQBrowser","menuItem:openWithSafari"]})}),wx.error(function(e){})}})})}handleLike(){const e=this,n=this.api.MAKE_LOVE;t(".preview").on("tap",".btnLike",function(i){const o=t(this).parents(".item"),r=1===o.closest(".page-rank").length;if(t("#hint"),o.hasClass("disabled"))return;const a=o.data("id"),s=parseInt(o.attr("data-love"));o.addClass("disabled"),t.post(n,{id:a,act:s},function(t){0===t.ret?(1===s?(o.find(".btnLike b").text(parseInt(o.find("b").text())+1),o.find(".btnLike i").addClass("icon-dianzanedx").removeClass("icon-dianzanx"),o.removeAttr("love"),o.attr("data-love",2),e.showTost("已点赞")):(o.find(".btnLike b").text(parseInt(o.find("b").text())-1),o.find(".btnLike i").removeClass("icon-dianzanedx").addClass("icon-dianzanx"),o.removeAttr("love"),o.attr("data-love",1),e.showTost("已取消点赞")),r&&e.page("rank")):e.showTost(t&&t.msg||"网络错误请稍后重试"),setTimeout(function(){o.removeClass("disabled")},300)},"json")})}playVidoeIOS(e,n,i){const o=t(".videoContainer");o.find("video").attr("src",e),o.find(".close-icon").show(),o.addClass("active");const r=t(".videoContainer video");t(".scroller"),r.on("playing",e=>{o.find(".close-icon").hide(),o.css("opacity",1)}),this.isAndroid?(r[0].play(),r[0].addEventListener("x5videoexitfullscreen",function(){o.find("video").replaceWith('\n          <video \n            id="j-video"\n            class="wrapper"\n            playsinline \n            webkit-playsinline\n            x-webkit-airplay="allow"\n            preload="auto"\n            x5-video-player-type="h5"\n            x5-video-player-fullscreen="true"\n          >\n            你的浏览器不支持H5播放器\n          </video>'),o.removeClass("active"),setInterval(function(){t("#masonry").masonry("reload")},100)})):r[0].addEventListener("webkitendfullscreen",function(){o.removeClass("active"),setInterval(function(){t("#masonry").masonry("reload")},100)}),setTimeout(()=>{r[0].play()},500),o.on("tap",e=>{const n=t(e.target);n.hasClass("videoContainer")?(e.preventDefault(),n.find("video")[0].pause(),o.removeClass("active")):(e.preventDefault(),e.target.pause(),o.removeClass("active"))})}prefix(){t(document).ready(function(e){t(window).on("orientationchange",function(e){if(t("body"),180!=window.orientation&&0!=window.orientation||t(".turnBox").remove(),90==window.orientation||-90==window.orientation){if(t(".videoContainer").hasClass("active"))return;t("body").append('<aside class="turnBox"><img src="/static/imgs/turn.png" class="turn"><p>请将手机调至竖屏状态，获得最佳浏览体验</p></aside>')}}),t(".container").on("touchmove",function(e){if(t(e.target).parents(".scroller").length||t(e.target).hasClass("scroller")){var n=t(e.target).hasClass("scroller")?t(e.target)[0]:t(e.target).parents(".scroller")[0];n.scrollHeight==n.offsetHeight&&e.preventDefault()}else e.preventDefault()}),t(".scroller").on("scroll",function(e){var n=t(e.target)[0];0==n.scrollTop?n.scrollTop=1:n.scrollTop==n.scrollHeight-n.offsetHeight&&(n.scrollTop=n.scrollTop-1)}).trigger("scroll")})}scrollLoadMore(){const e=this;t("#page-home").on("scroll",function(){const n=t(this),i=parseInt(n.find(".item:last").css("top"))+parseInt(n.find(".item:last").css("height"))-n.scrollTop();let o=e.currentPage;i<1800&&!e.loading&&e.hasMore&&(o+=1,e.currentPage=o,e.getList({page:o,count:20,patten:1},"home"))})}showTost(e){const n=t("#hint");n.text(e).show(),setTimeout(()=>{n.addClass("show-toast")},50),setTimeout(()=>{n.removeClass("show-toast").one("webkitTransitionEnd",function(){n.hide()})},1400)}renderBanner(){const e=[{imgUrl:"/static/imgs/banner.png",id:1}].map(e=>`<li id="${e.id}" class="slider-item openParam" data-param="">\n          <div class="img-wrap">\n              <img class="banner-image" src="${e.imgUrl}">\n          </div>\n        </li>`);t("#banner").html(""),t("#banner").html(`<ul class="slider-list">${e.join("")}</ul>`),t("#banner").slider({autoScroll:!0,infinite:!0})}bannerList(e){return`<ul class="slider-list">${e.map(e=>`<li id="${e.id}" class="slider-item openParam" data-param="">\n          <div class="img-wrap">\n              <img class="banner-image" src="${e.imgPath}">\n          </div>\n        </li>`).join("")}</ul>`}}})}(window,$)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2luZGV4LmpzIl0sIm5hbWVzIjpbInBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrIiwid2luZG93IiwiY2h1bmtJZCIsIm1vcmVNb2R1bGVzIiwiaG90QXZhaWxhYmxlRmlsZXNNYXAiLCJob3RSZXF1ZXN0ZWRGaWxlc01hcCIsIm1vZHVsZUlkIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaG90VXBkYXRlIiwiaG90V2FpdGluZ0ZpbGVzIiwiaG90Q2h1bmtzTG9hZGluZyIsImhvdFVwZGF0ZURvd25sb2FkZWQiLCJob3RBZGRVcGRhdGVDaHVuayIsImhvdEN1cnJlbnRDaGlsZE1vZHVsZSIsImhvdEFwcGx5T25VcGRhdGUiLCJob3RDdXJyZW50SGFzaCIsImhvdFJlcXVlc3RUaW1lb3V0IiwiaG90Q3VycmVudE1vZHVsZURhdGEiLCJob3RDdXJyZW50UGFyZW50cyIsImhvdEN1cnJlbnRQYXJlbnRzVGVtcCIsImhvdENyZWF0ZVJlcXVpcmUiLCJtZSIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZm4iLCJyZXF1ZXN0IiwiaG90IiwiYWN0aXZlIiwicGFyZW50cyIsImluZGV4T2YiLCJwdXNoIiwiY2hpbGRyZW4iLCJjb25zb2xlIiwid2FybiIsIk9iamVjdEZhY3RvcnkiLCJuYW1lIiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInNldCIsInZhbHVlIiwiZGVmaW5lUHJvcGVydHkiLCJlIiwiaG90U3RhdHVzIiwiaG90U2V0U3RhdHVzIiwidGhlbiIsImZpbmlzaENodW5rTG9hZGluZyIsImVyciIsImhvdFdhaXRpbmdGaWxlc01hcCIsImhvdEVuc3VyZVVwZGF0ZUNodW5rIiwidCIsIm1vZGUiLCJob3RTdGF0dXNIYW5kbGVycyIsIm5ld1N0YXR1cyIsImkiLCJsZW5ndGgiLCJob3REZWZlcnJlZCIsImhvdFVwZGF0ZU5ld0hhc2giLCJ0b01vZHVsZUlkIiwiaWQiLCJob3RDaGVjayIsImFwcGx5IiwiRXJyb3IiLCJyZXF1ZXN0VGltZW91dCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiWE1MSHR0cFJlcXVlc3QiLCJyZXF1ZXN0UGF0aCIsInAiLCJvcGVuIiwidGltZW91dCIsInNlbmQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwidXBkYXRlIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwiaG90RG93bmxvYWRNYW5pZmVzdCIsImMiLCJoIiwicHJvbWlzZSIsImhlYWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic2NyaXB0IiwiY3JlYXRlRWxlbWVudCIsImNoYXJzZXQiLCJzcmMiLCJhcHBlbmRDaGlsZCIsImhvdERvd25sb2FkVXBkYXRlQ2h1bmsiLCJkZWZlcnJlZCIsImhvdEFwcGx5IiwicmVzdWx0Iiwib3V0ZGF0ZWRNb2R1bGVzIiwib3B0aW9ucyIsImNiIiwiaiIsIm1vZHVsZSIsImdldEFmZmVjdGVkU3R1ZmYiLCJ1cGRhdGVNb2R1bGVJZCIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwicXVldWUiLCJzbGljZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwiX3NlbGZBY2NlcHRlZCIsIl9zZWxmRGVjbGluZWQiLCJ0eXBlIiwiX21haW4iLCJwYXJlbnRJZCIsInBhcmVudCIsIl9kZWNsaW5lZERlcGVuZGVuY2llcyIsImNvbmNhdCIsIl9hY2NlcHRlZERlcGVuZGVuY2llcyIsImFkZEFsbFRvU2V0IiwiYSIsImIiLCJpdGVtIiwiYXBwbGllZFVwZGF0ZSIsIndhcm5VbmV4cGVjdGVkUmVxdWlyZSIsImFib3J0RXJyb3IiLCJkb0FwcGx5IiwiZG9EaXNwb3NlIiwiY2hhaW5JbmZvIiwiam9pbiIsIm9uRGVjbGluZWQiLCJpZ25vcmVEZWNsaW5lZCIsIm9uVW5hY2NlcHRlZCIsImlnbm9yZVVuYWNjZXB0ZWQiLCJvbkFjY2VwdGVkIiwib25EaXNwb3NlZCIsImlkeCIsIm91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyIsImVycm9ySGFuZGxlciIsImtleXMiLCJmb3JFYWNoIiwiaW5zdGFsbGVkQ2h1bmtzIiwiaG90RGlzcG9zZUNodW5rIiwiZGVwZW5kZW5jeSIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwiZGF0YSIsImRpc3Bvc2VIYW5kbGVycyIsIl9kaXNwb3NlSGFuZGxlcnMiLCJjaGlsZCIsInNwbGljZSIsIm1vZHVsZXMiLCJlcnJvciIsImNhbGxiYWNrcyIsIm9uRXJyb3JlZCIsImRlcGVuZGVuY3lJZCIsImlnbm9yZUVycm9yZWQiLCJlcnIyIiwib3JpZ2luYWxFcnJvciIsImV4cG9ydHMiLCJsIiwiYWNjZXB0IiwiZGVwIiwiY2FsbGJhY2siLCJkZWNsaW5lIiwiZGlzcG9zZSIsImFkZERpc3Bvc2VIYW5kbGVyIiwicmVtb3ZlRGlzcG9zZUhhbmRsZXIiLCJjaGVjayIsImFkZFN0YXR1c0hhbmRsZXIiLCJyZW1vdmVTdGF0dXNIYW5kbGVyIiwidW5kZWZpbmVkIiwiaG90Q3JlYXRlTW9kdWxlIiwibSIsImQiLCJnZXR0ZXIiLCJvIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInMiLCJ3aW4iLCIkIiwiW29iamVjdCBPYmplY3RdIiwidGhpcyIsImN1cnJlbnRMaXN0IiwidXBsb2FkVHlwZSIsImltZ3MiLCJsb2FkaW5nIiwiaGFzTW9yZSIsImlzQW5kcm9pZCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImN1cnJlbnRQYWdlIiwiYXBpIiwiTElTVCIsIldYX0NPTkZJRyIsIlVQTE9BRCIsIk1BS0VfTE9WRSIsImluaXQiLCJyZXMiLCJyZXQiLCJhdHRyIiwic2hvd1Rvc3QiLCJ3eEpzc2RrIiwibWFpbiIsInJlbmRlckJhbm5lciIsInByZWZpeCIsIndhdGVyZmFsbHNGbG93IiwicHJldmlld1BpYyIsImhhbmRsZUxpa2UiLCJzaG93VGlwIiwic2Nyb2xsTG9hZE1vcmUiLCJnZXRMaXN0IiwicGFnZSIsInBhdHRlbiIsImNvdW50Iiwib24iLCJwcmV2ZW50RGVmYXVsdCIsInRyaWdnZXIiLCJsb2NhdGlvbiIsImhyZWYiLCJzZXRJbnRlcnZhbCIsIm1hc29ucnkiLCJVcGxvYWRJbWciLCJ1cmwiLCJ3aWR0aCIsInNob3dUaXBzIiwicXVhbGl0eSIsIm1peHNpemUiLCJ2aWRlb1NpemUiLCJ2aWRlb1R5cGUiLCJzdWNjZXNzIiwic2V0VGltZW91dCIsIm1zZyIsIiRjb250YWluZXIiLCJwYXJzZUludCIsInNjcmVlbiIsIml0ZW1TZWxlY3RvciIsImd1dHRlcldpZHRoIiwiaXNSZXNpemFibGUiLCIkYWN0aXZlUGFnZSIsImFkZENsYXNzIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsImZpbmQiLCJodG1sIiwiJHRpcHMiLCJzaG93Iiwib25lIiwiaGlkZSIsIm9wcyIsInNlbGYiLCJzZW5kRGF0YSIsImRhdGFMaXN0IiwidmlkZW9JZCIsInRlbXBsYXRlIiwibGlzdCIsIm1lZGlhVHlwZSIsInBhdGgiLCJpc1ZvdGVkIiwidm90ZU51bSIsInZpZGVvQ292ZXIiLCJhcHBlbmQiLCIkdGFyZ2V0IiwidGFyZ2V0IiwiaGFzQ2xhc3MiLCIkSXRlbSIsInZpZGVvUGF0aCIsInBsYXlWaWRvZUlPUyIsInd4IiwicHJldmlld0ltYWdlIiwiY3VycmVudCIsInVybHMiLCJ0ZXN0IiwiZ2V0U2NyaXB0Iiwic3BsaXQiLCJjb25maWciLCJkZWJ1ZyIsImFwcElkIiwidGltZXN0YW1wIiwibm9uY2VTdHIiLCJzaWduYXR1cmUiLCJqc0FwaUxpc3QiLCJyZWFkeSIsInNoYXJlRGF0YSIsInRpdGxlIiwibGluayIsImRlc2MiLCJpbWdVcmwiLCJjYW5jZWwiLCJvbk1lbnVTaGFyZVRpbWVsaW5lIiwib25NZW51U2hhcmVBcHBNZXNzYWdlIiwiaGlkZU1lbnVJdGVtcyIsIm1lbnVMaXN0IiwiX3RoaXMiLCJjbG9zZXN0IiwiYWN0IiwicG9zdCIsInRleHQiLCJyZW1vdmVBdHRyIiwidmlkZW8iLCIkdmlkZW9Db250YWluZXIiLCIkbmV3VmlkZW8iLCJjc3MiLCJwbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlcGxhY2VXaXRoIiwicGF1c2UiLCJvcmllbnRhdGlvbiIsInJlbW92ZSIsIl9maXgiLCJzY3JvbGxIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJzY3JvbGxUb3AiLCJkaXN0YW5jZSIsIiRoaW50Iiwic2xpZGVycyIsInNsaWRlIiwic2xpZGVyIiwiYXV0b1Njcm9sbCIsImluZmluaXRlIiwiYmFubmVyTGlzdCIsImltZ1BhdGgiXSwibWFwcGluZ3MiOiJhQUdBLElBQUFBLEVBQUFDLE9BQUEsaUJBQ0FBLE9BQUEsaUJBQ0EsU0FBQUMsRUFBQUMsSUFpUkEsU0FBQUQsRUFBQUMsR0FDQSxJQUFBQyxFQUFBRixLQUFBRyxFQUFBSCxHQUNBLE9BRUEsUUFBQUksS0FEQUQsRUFBQUgsSUFBQSxFQUNBQyxFQUNBSSxPQUFBQyxVQUFBQyxlQUFBQyxLQUFBUCxFQUFBRyxLQUNBSyxFQUFBTCxHQUFBSCxFQUFBRyxJQUdBLEtBQUFNLEdBQUEsSUFBQUMsR0FDQUMsSUExUkFDLENBQUFiLEVBQUFDLEdBQ0FILEtBQUFFLEVBQUFDLElBd0RBLElBS0FhLEVBTEFDLEdBQUEsRUFFQUMsRUFBQSx1QkFDQUMsRUFBQSxJQUNBQyxLQUdBQyxLQUVBQyxLQUdBLFNBQUFDLEVBQUFqQixHQUNBLElBQUFrQixFQUFBQyxFQUFBbkIsR0FDQSxJQUFBa0IsRUFBQSxPQUFBRSxFQUNBLElBQUFDLEVBQUEsU0FBQUMsR0FzQkEsT0FyQkFKLEVBQUFLLElBQUFDLFFBQ0FMLEVBQUFHLElBQ0EsSUFBQUgsRUFBQUcsR0FBQUcsUUFBQUMsUUFBQTFCLElBQ0FtQixFQUFBRyxHQUFBRyxRQUFBRSxLQUFBM0IsSUFHQWUsR0FBQWYsR0FDQVUsRUFBQVksSUFFQSxJQUFBSixF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ZW50IjpbIiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG4gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdO1xuIFx0d2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdFx0aWYgKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4gXHR9IDtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0dmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XG4gXHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuIFx0XHRzY3JpcHQuY2hhcnNldCA9IFwidXRmLThcIjtcbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNcIjtcbiBcdFx0O1xuIFx0XHRoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChyZXF1ZXN0VGltZW91dCkge1xuIFx0XHRyZXF1ZXN0VGltZW91dCA9IHJlcXVlc3RUaW1lb3V0IHx8IDEwMDAwO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0aWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xuIFx0XHRcdH1cbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xuIFx0XHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcbiBcdFx0XHRcdHJlcXVlc3QudGltZW91dCA9IHJlcXVlc3RUaW1lb3V0O1xuIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0aWYgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xuIFx0XHRcdFx0aWYgKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XG4gXHRcdFx0XHRcdC8vIHRpbWVvdXRcbiBcdFx0XHRcdFx0cmVqZWN0KFxuIFx0XHRcdFx0XHRcdG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIilcbiBcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xuIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXG4gXHRcdFx0XHRcdHJlc29sdmUoKTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XG4gXHRcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcbiBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0Ly8gc3VjY2Vzc1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuIFx0XHRcdFx0XHRcdHJlamVjdChlKTtcbiBcdFx0XHRcdFx0XHRyZXR1cm47XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0cmVzb2x2ZSh1cGRhdGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiMzdiNjM5YmI4MTRhMTVlZDgzMTNcIjtcbiBcdHZhciBob3RSZXF1ZXN0VGltZW91dCA9IDEwMDAwO1xuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XG4gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdGlmICghbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gXHRcdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcbiBcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG4gXHRcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArXG4gXHRcdFx0XHRcdFx0cmVxdWVzdCArXG4gXHRcdFx0XHRcdFx0XCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICtcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0KTtcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xuIFx0XHR9O1xuIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XG4gXHRcdFx0XHR9LFxuIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fTtcbiBcdFx0Zm9yICh2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcImVcIiAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJ0XCJcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKSBob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xuIFx0XHRcdFx0dGhyb3cgZXJyO1xuIFx0XHRcdH0pO1xuXG4gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xuIFx0XHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcbiBcdFx0XHRcdFx0aWYgKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcbiBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH07XG4gXHRcdGZuLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRcdGlmIChtb2RlICYgMSkgdmFsdWUgPSBmbih2YWx1ZSk7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18udCh2YWx1ZSwgbW9kZSAmIH4xKTtcbiBcdFx0fTtcbiBcdFx0cmV0dXJuIGZuO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgaG90ID0ge1xuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXG4gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXG5cbiBcdFx0XHQvLyBNb2R1bGUgQVBJXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpIGhvdC5fc2VsZkFjY2VwdGVkID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIikgaG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuIFx0XHRcdFx0ZWxzZSBob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcF0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGVjbGluZTogZnVuY3Rpb24oZGVwKSB7XG4gXHRcdFx0XHRpZiAodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIikgaG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxuIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGlmICghbCkgcmV0dXJuIGhvdFN0YXR1cztcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cbiBcdFx0fTtcbiBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuIFx0XHRyZXR1cm4gaG90O1xuIFx0fVxuXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcblxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XG4gXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xuIFx0fVxuXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdERlZmVycmVkO1xuXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcbiBcdFx0dmFyIGlzTnVtYmVyID0gK2lkICsgXCJcIiA9PT0gaWQ7XG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSkge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcImlkbGVcIikge1xuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xuIFx0XHR9XG4gXHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcbiBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XG4gXHRcdHJldHVybiBob3REb3dubG9hZE1hbmlmZXN0KGhvdFJlcXVlc3RUaW1lb3V0KS50aGVuKGZ1bmN0aW9uKHVwZGF0ZSkge1xuIFx0XHRcdGlmICghdXBkYXRlKSB7XG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRcdFx0cmV0dXJuIG51bGw7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XG5cbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRob3REZWZlcnJlZCA9IHtcbiBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcbiBcdFx0XHRcdFx0cmVqZWN0OiByZWplY3RcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0aG90VXBkYXRlID0ge307XG4gXHRcdFx0dmFyIGNodW5rSWQgPSAyO1xuIFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdHtcbiBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJlxuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJlxuIFx0XHRcdFx0aG90V2FpdGluZ0ZpbGVzID09PSAwXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBwcm9taXNlO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcbiBcdFx0XHRyZXR1cm47XG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XG4gXHRcdGZvciAodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZiAoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XG4gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xuIFx0XHR2YXIgZGVmZXJyZWQgPSBob3REZWZlcnJlZDtcbiBcdFx0aG90RGVmZXJyZWQgPSBudWxsO1xuIFx0XHRpZiAoIWRlZmVycmVkKSByZXR1cm47XG4gXHRcdGlmIChob3RBcHBseU9uVXBkYXRlKSB7XG4gXHRcdFx0Ly8gV3JhcCBkZWZlcnJlZCBvYmplY3QgaW4gUHJvbWlzZSB0byBtYXJrIGl0IGFzIGEgd2VsbC1oYW5kbGVkIFByb21pc2UgdG9cbiBcdFx0XHQvLyBhdm9pZCB0cmlnZ2VyaW5nIHVuY2F1Z2h0IGV4Y2VwdGlvbiB3YXJuaW5nIGluIENocm9tZS5cbiBcdFx0XHQvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDY1NjY2XG4gXHRcdFx0UHJvbWlzZS5yZXNvbHZlKClcbiBcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gaG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSk7XG4gXHRcdFx0XHR9KVxuIFx0XHRcdFx0LnRoZW4oXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKHJlc3VsdCkge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiBcdFx0XHRcdFx0fSxcbiBcdFx0XHRcdFx0ZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdCk7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHRcdGRlZmVycmVkLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zKSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwicmVhZHlcIilcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XG4gXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gXHRcdHZhciBjYjtcbiBcdFx0dmFyIGk7XG4gXHRcdHZhciBqO1xuIFx0XHR2YXIgbW9kdWxlO1xuIFx0XHR2YXIgbW9kdWxlSWQ7XG5cbiBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZih1cGRhdGVNb2R1bGVJZCkge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbdXBkYXRlTW9kdWxlSWRdO1xuIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCkubWFwKGZ1bmN0aW9uKGlkKSB7XG4gXHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcbiBcdFx0XHRcdFx0aWQ6IGlkXG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XG4gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmICghbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZCkgY29udGludWU7XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX21haW4pIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdFx0Y29udGludWU7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG5cbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcbiBcdFx0XHR9O1xuIFx0XHR9XG5cbiBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuIFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuIFx0XHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcbiBcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuIFx0XHRcdCk7XG4gXHRcdH07XG5cbiBcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcbiBcdFx0XHRcdC8qKiBAdHlwZSB7VE9ET30gKi9cbiBcdFx0XHRcdHZhciByZXN1bHQ7XG4gXHRcdFx0XHRpZiAoaG90VXBkYXRlW2lkXSkge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHQvKiogQHR5cGUge0Vycm9yfGZhbHNlfSAqL1xuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0FwcGx5ID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcbiBcdFx0XHRcdGlmIChyZXN1bHQuY2hhaW4pIHtcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c3dpdGNoIChyZXN1bHQudHlwZSkge1xuIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRcIiBpbiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnBhcmVudElkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25VbmFjY2VwdGVkKSBvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkFjY2VwdGVkKSBvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EaXNwb3NlZCkgb3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGFib3J0RXJyb3IpIHtcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0FwcGx5KSB7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRcdFx0XHRpZiAoXG4gXHRcdFx0XHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcyxcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdFx0XHRcdClcbiBcdFx0XHRcdFx0XHQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KFxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF1cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9EaXNwb3NlKSB7XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdClcbiBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcbiBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdFx0fSk7XG4gXHRcdH1cblxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcbiBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSA9PT0gZmFsc2UpIHtcbiBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdH0pO1xuXG4gXHRcdHZhciBpZHg7XG4gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xuIFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XG4gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0aWYgKCFtb2R1bGUpIGNvbnRpbnVlO1xuXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcblxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XG4gXHRcdFx0XHRjYihkYXRhKTtcbiBcdFx0XHR9XG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcblxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcblxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHdoZW4gZGlzcG9zaW5nIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBkaXNwb3NlIGhhbmRsZXJcbiBcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XG4gXHRcdFx0XHRpZiAoIWNoaWxkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIHtcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxuIFx0XHR2YXIgZGVwZW5kZW5jeTtcbiBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xuIFx0XHRcdFx0XHRcdGlmIChpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTm90IGluIFwiYXBwbHlcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcblxuIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXG4gXHRcdGZvciAobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcbiBcdFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xuIFx0XHRcdFx0XHRcdGlmIChjYikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrcy5pbmRleE9mKGNiKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XG4gXHRcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcbiBcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZXJyMikge1xuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuIFx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbEVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnIyO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXG4gXHRcdGlmIChlcnJvcikge1xuIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiBcdFx0fVxuXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gXHRcdFx0cmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuIFx0XHRcdHBhcmVudHM6IChob3RDdXJyZW50UGFyZW50c1RlbXAgPSBob3RDdXJyZW50UGFyZW50cywgaG90Q3VycmVudFBhcmVudHMgPSBbXSwgaG90Q3VycmVudFBhcmVudHNUZW1wKSxcbiBcdFx0XHRjaGlsZHJlbjogW11cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZShcIi4vc3JjL2pzL2luZGV4LmpzXCIpKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zcmMvanMvaW5kZXguanNcIik7XG4iLCJcbi8vIGltcG9ydCBWQ29uc29sZSBmcm9tICd2Y29uc29sZS9kaXN0L3Zjb25zb2xlLm1pbi5qcyc7XG4vLyBsZXQgdkNvbnNvbGUgPSBuZXcgVkNvbnNvbGUoKTtcbmltcG9ydCBcIi4uL2Nzcy9zdHlsZS5zY3NzXCI7XG4oZnVuY3Rpb24gKHdpbiwgJCkge1xuICBjbGFzcyBBcHAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy5jdXJyZW50TGlzdCA9ICdob21lJztcbiAgICAgIHRoaXMudXBsb2FkVHlwZSA9IHtcbiAgICAgICAgaW1nczogJydcbiAgICAgIH1cbiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5oYXNNb3JlID0gdHJ1ZTtcbiAgICAgIHRoaXMuaXNBbmRyb2lkID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdBbmRyb2lkJykgPiAtMSB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0FkcicpID4gLTE7XG4gICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcbiAgICAgIHRoaXMuYXBpID0ge1xuICAgICAgICBMSVNUOiAnL2FwaS9tZWRpYS9saXN0JyxcbiAgICAgICAgV1hfQ09ORklHOiAnL2FwaS9nZXRDb25maWcnLFxuICAgICAgICBVUExPQUQ6ICcvYXBpL21lZGlhL3VwbG9hZCcsXG4gICAgICAgIE1BS0VfTE9WRTogJy9hcGkvbWVkaWEvbG92ZScsXG4gICAgICB9O1xuICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICBhd2FpdCAkLmdldCgnL2FwaS9nZXRNb2RlJywgcmVzID0+IHtcbiAgICAgICAgaWYgKHJlcy5yZXQgPT09IDApIHtcbiAgICAgICAgICBjb25zdCBtb2RlID0gcmVzLmRhdGEubW9kZTtcbiAgICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgICAgICAgIGlmIChtb2RlID09PSAxKSB7XG4gICAgICAgICAgICAkKCcjZmlsZWRhdGEnKS5hdHRyKCdhY2NlcHQnLCAnaW1hZ2UvKicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNob3dUb3N0KCfnvZHnu5zlh7rnjrDmlYXpmpwnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cblxuXG4gICAgICB0aGlzLnd4SnNzZGsoKTtcbiAgICAgIHRoaXMubWFpbigpO1xuICAgICAgdGhpcy5yZW5kZXJCYW5uZXIoKTtcbiAgICAgIHRoaXMucHJlZml4KCk7XG4gICAgICB0aGlzLndhdGVyZmFsbHNGbG93KCk7XG4gICAgICB0aGlzLnByZXZpZXdQaWMoKTtcbiAgICAgIHRoaXMuaGFuZGxlTGlrZSgpO1xuICAgICAgdGhpcy5zaG93VGlwKCk7XG4gICAgICB0aGlzLnNjcm9sbExvYWRNb3JlKCk7XG4gICAgICB0aGlzLmdldExpc3Qoe1xuICAgICAgICBwYWdlOiAxLFxuICAgICAgICBwYXR0ZW46IDEsXG4gICAgICAgIGNvdW50OiAyMFxuICAgICAgfSwgJ2hvbWUnKTtcbiAgICB9XG4gICAgbWFpbigpIHtcbiAgICAgICQoJy5idG4tdXBsb2FkJykub24oJ3RhcCcsIGUgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQoJyNmaWxlZGF0YScpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICB9KTtcblxuICAgICAgJCgnLmJ0bi1ob21lJykub24oJ3RhcCcsIGUgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICAgIHRoaXMucGFnZSgnaG9tZScpO1xuICAgICAgfSk7XG5cbiAgICAgICQoJy5idG4tcmFuaycpLm9uKCd0YXAnLCBlID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnBhZ2UoJ3JhbmsnKTtcbiAgICAgIH0pO1xuXG4gICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICQoJyNtYXNvbnJ5JykubWFzb25yeSgncmVsb2FkJyk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9KTtcblxuXG4gICAgICAvLyDkuIrkvKDlm77niYdcbiAgICAgICQoJyNmaWxlZGF0YScpLlVwbG9hZEltZyh7XG4gICAgICAgIHVybDogdGhpcy5hcGkuVVBMT0FELFxuICAgICAgICB3aWR0aDogJzc1MCcsXG4gICAgICAgIHNob3dUaXBzOiB0aGlzLnNob3dUb3N0LFxuICAgICAgICBxdWFsaXR5OiAnMC44JyxcbiAgICAgICAgbWl4c2l6ZTogMTAyNCAqIDEwMjQgKiAzLFxuICAgICAgICB2aWRlb1NpemU6IDEwMjQgKiAxMDI0ICogNTAsXG4gICAgICAgIHZpZGVvVHlwZTogJ3ZpZGVvL29nZyx2aWRlby9tcDQsdmlkZW8vV2ViTSx2aWRlby9xdWlja3RpbWUsdmlkZW8veC1tc3ZpZGVvJyxcbiAgICAgICAgdHlwZTogJ2ltYWdlL3BuZyxpbWFnZS9qcGcsaW1hZ2UvanBlZyxpbWFnZS9wanBlZyxpbWFnZS9naWYsaW1hZ2UvYm1wLGltYWdlL3gtcG5nJyxcbiAgICAgICAgc3VjY2VzczogIChyZXMpID0+IHtcbiAgICAgICAgICBpZiAocmVzLnJldCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zaG93VG9zdCgn5LiK5Lyg5oiQ5YqfJyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5wYWdlKCdob21lJyk7XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50TGlzdCA9ICdob21lJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zaG93VG9zdChyZXMubXNnIHx8ICfkuIrkvKDlpLHotKXnqI3lkI7ph43or5UnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yIChyZXMpIHtcbiAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8g5Zu+54mH54CR5biD5rWBXG4gICAgd2F0ZXJmYWxsc0Zsb3coKSB7XG4gICAgICBjb25zdCAkY29udGFpbmVyID0gJCgnI21hc29ucnknKTtcbiAgICAgIGNvbnN0IGltZ1dpZHRoID0gcGFyc2VJbnQod2luZG93LnNjcmVlbi53aWR0aCkgLSA0MDtcbiAgICAgICRjb250YWluZXIubWFzb25yeSh7XG4gICAgICAgIGl0ZW1TZWxlY3RvcjogJy5pdGVtJyxcbiAgICAgICAgZ3V0dGVyV2lkdGg6IDAsXG4gICAgICAgIGlzUmVzaXphYmxlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIOWIh+aNoumhtemdolxuICAgIHBhZ2UoYWN0aXZlKSB7XG4gICAgICBjb25zdCAkYWN0aXZlUGFnZSA9ICQoXCIjcGFnZS1cIiArIGFjdGl2ZSk7XG4gICAgICAkYWN0aXZlUGFnZS5hZGRDbGFzcyhcImFjdGl2ZVwiKS5zaWJsaW5ncyhcIi5wYWdlXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgJGFjdGl2ZVBhZ2UuZmluZCgnLnByZXZpZXcnKS5odG1sKCcnKTtcbiAgICAgIHRoaXMuZ2V0TGlzdCh7XG4gICAgICAgIHBhZ2U6IDEsXG4gICAgICAgIGNvdW50OiBhY3RpdmUgPT09ICdob21lJyA/IDIwIDogMTAsXG4gICAgICAgIHBhdHRlbjogYWN0aXZlID09PSAnaG9tZScgPyAxIDogMlxuICAgICAgfSwgYWN0aXZlKTtcbiAgICB9XG4gICAgLy8g5pi+56S65ZKM6ZqQ6JeP5o+Q56S6XG4gICAgc2hvd1RpcCgpIHtcbiAgICAgIGNvbnN0ICR0aXBzID0gJCgnI3BhZ2UtcnVsZXMnKTtcbiAgICAgICQoJy5idG4tcnVsZXMnKS5vbigndGFwJywgZSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHRpcHMuc2hvdygpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkdGlwcy5hZGRDbGFzcygnc2hvdycpO1xuICAgICAgICB9LCA1MCk7XG4gICAgICB9KTtcbiAgICAgICQoJy5jbG9zZScpLm9uKCd0YXAnLCBlID0+IHtcbiAgICAgICAgJHRpcHMucmVtb3ZlQ2xhc3MoJ3Nob3cnKS5vbmUoJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGdldExpc3QgKG9wcywgcGFnZSkge1xuICAgICAgY29uc3QgdXJsID0gdGhpcy5hcGkuTElTVDtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgY29uc3Qgc2VuZERhdGEgPSBvcHM7XG4gICAgICBzZWxmLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgJC5nZXQodXJsLCBzZW5kRGF0YSwgcmVzID0+IHtcbiAgICAgICAgc2VsZi5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChyZXMucmV0ID09PSAwKSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhLmRhdGFMaXN0O1xuICAgICAgICAgIHNlbGYudmlkZW9JZCA9IFtdO1xuICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA8IDIwKSB7XG4gICAgICAgICAgICB0aGlzLmhhc01vcmUgPSBmYWxzZTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHNlbGYuaGFzTW9yZSA9IGRhdGEubGVuZ3RoID09PSAyMDtcbiAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGRhdGEubWFwKGxpc3QgPT4ge1xuICAgICAgICAgICAgaWYgKGxpc3QubWVkaWFUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cIml0ZW0gbWFzb25yeS1icmlja1wiIGRhdGEtaWQ9XCIke2xpc3QuaWR9XCIgZGF0YS1zcmM9XCIke2xpc3QucGF0aH1cIiBkYXRhLWxvdmU9XCIke2xpc3QuaXNWb3RlZCA9PT0gMCA/IDEgOiAyfVwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtsaXN0LnBhdGh9XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBpY2staW5mb1wiPlxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJ0eXBlIGljb25mb250IGljb24tdHVwaWFueFwiPjwvaT5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnRuTGlrZVwiPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImljb25mb250ICR7bGlzdC5pc1ZvdGVkID09PSAxID8gJ2ljb24tZGlhbnphbmVkeCcgOiAnaWNvbi1kaWFuemFueCd9XCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICA8Yj4ke2xpc3Qudm90ZU51bX08L2I+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cIml0ZW0gdmlkZW8gbWFzb25yeS1icmlja1wiIGRhdGEtaWQ9XCIke2xpc3QuaWR9XCIgZGF0YS1sb3ZlPVwiJHtsaXN0LmlzVm90ZWQgPT09IDAgPyAxIDogMn1cIiBkYXRhLXZpZGVvUGF0aD1cIiR7bGlzdC5wYXRofVwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtsaXN0LnZpZGVvQ292ZXJ9XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBpY2staW5mb1wiPlxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJ0eXBlIGljb25mb250IGljb24tc2hpcGlueFwiPjwvaT5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnRuTGlrZVwiPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImljb25mb250ICR7bGlzdC5pc1ZvdGVkID09PSAxID8gJ2ljb24tZGlhbnphbmVkeCcgOiAnaWNvbi1kaWFuemFueCd9XCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICA8Yj4ke2xpc3Qudm90ZU51bX08L2I+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgICQoYCNwYWdlLSR7cGFnZX1gKS5maW5kKCcucHJldmlldycpLmFwcGVuZCh0ZW1wbGF0ZS5qb2luKCcnKSk7XG4gICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCgnI21hc29ucnknKS5tYXNvbnJ5KCdyZWxvYWQnKTtcbiAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuc2hvd1Rvc3QocmVzICYmIHJlcy5tc2cgfHwgJ+e9kee7nOmUmeivr++8jOivt+eojeWQjumHjeivlScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyDngrnlh7vmn6XnnIvlpKflm75cbiAgICBwcmV2aWV3UGljKCkge1xuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAkKCcucHJldmlldycpLm9uKCd0YXAnLCAnOm5vdChcIi5idG5MaWtlXCIpJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCAkdGFyZ2V0ID0gJChlLnRhcmdldCk7XG4gICAgICAgIGlmICgkdGFyZ2V0Lmhhc0NsYXNzKCdidG5MaWtlJykgfHwgJHRhcmdldC5wYXJlbnRzKCcuYnRuTGlrZScpLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCAkSXRlbSA9ICR0YXJnZXQucGFyZW50cygnLml0ZW0nKTtcbiAgICAgICAgLy8g5aaC5p6c5piv6KeG5bGP77yM5YiZ5pKt5pS+6KeG6aKRXG4gICAgICAgIGlmICgkSXRlbS5oYXNDbGFzcygndmlkZW8nKSl7XG4gICAgICAgICAgY29uc3QgdmlkZW9QYXRoID0gJEl0ZW0uYXR0cignZGF0YS12aWRlb1BhdGgnKTtcbiAgICAgICAgICBjb25zdCBpbWdQYXRoID0gJEl0ZW0uYXR0cigndmlkZW9QYXRoJyk7XG4gICAgICAgICAgc2VsZi5wbGF5Vmlkb2VJT1ModmlkZW9QYXRoLCAkSXRlbS5kYXRhKCdpZCcpKTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW1ncyA9IFtdO1xuICAgICAgICBjb25zdCB1cmxzID0gJEl0ZW0ucGFyZW50cygnLnByZXZpZXcnKS5maW5kKCcuaXRlbScpLm1hcCgoaWR4LCBpdGVtKSA9PiB7XG4gICAgICAgICAgY29uc3QgJGN1cnJlbnQgPSAkKGl0ZW0pO1xuICAgICAgICAgIGNvbnN0IHVybCA9ICRjdXJyZW50LmF0dHIoJ2RhdGEtc3JjJyk7XG4gICAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgICAgaW1ncy5wdXNoKHVybCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZW9mIHd4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHd4LnByZXZpZXdJbWFnZSh7XG4gICAgICAgICAgICBjdXJyZW50OiAkSXRlbS5kYXRhKCdzcmMnKSB8fCAkSXRlbS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgIHVybHM6IGltZ3NcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHd4SnNzZGsoKSB7XG4gICAgICBjb25zdCBhcGkgPSB0aGlzLmFwaS5XWF9DT05GSUc7XG4gICAgICBpZiAoL01pY3JvTWVzc2VuZ2VyL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgICAkLmdldFNjcmlwdChcImh0dHBzOi8vcmVzLnd4LnFxLmNvbS9vcGVuL2pzL2p3ZWl4aW4tMS4wLjAuanNcIiwgZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgJC5nZXQoYXBpLCB7XG4gICAgICAgICAgICBwYXRoOiB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzBdXG4gICAgICAgICAgfSwgcmVzID0+IHtcbiAgICAgICAgICAgIGlmIChyZXMucmV0ID09PSAwKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YTtcbiAgICAgICAgICAgICAgd3guY29uZmlnKHtcbiAgICAgICAgICAgICAgICBkZWJ1ZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgYXBwSWQ6IGRhdGEuYXBwSWQsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBkYXRhLnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICBub25jZVN0cjogZGF0YS5ub25jZVN0cixcbiAgICAgICAgICAgICAgICBzaWduYXR1cmU6IGRhdGEuc2lnbmF0dXJlLFxuICAgICAgICAgICAgICAgIGpzQXBpTGlzdDogW1xuICAgICAgICAgICAgICAgICAgJ29uTWVudVNoYXJlVGltZWxpbmUnLFxuICAgICAgICAgICAgICAgICAgJ29uTWVudVNoYXJlQXBwTWVzc2FnZScsXG4gICAgICAgICAgICAgICAgICAnaGlkZU1lbnVJdGVtcycsXG4gICAgICAgICAgICAgICAgICAncHJldmlld0ltYWdlJ1xuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHd4LnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzaGFyZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgICB0aXRsZTogJ1Bob3RvIE1vbWVudHMgZm9yIEZZMTkgSVJNIFNVTU1JVCcsXG4gICAgICAgICAgICAgICAgICBsaW5rOiAnaHR0cDovL3Bob3RvLW1vbWVudHMueXhraW5nLnh5ei9tb2JpbGUvaW5kZXgnLFxuICAgICAgICAgICAgICAgICAgZGVzYzogJ1dlbGNvbWUgdG8gdGhlIFBob3RvIE1vbWVudHMgZm9yIHRoZSBGWTE5IElSTSBTVU1NSVQsIGhlcmUgeW91IGNhbiB1cGxvYWQgYW5kIGdldCByZWFsLXRpbWUgcGhvdG9zIG9mIHRoZSBtZWV0aW5nIScsXG4gICAgICAgICAgICAgICAgICBpbWdVcmw6ICdodHRwOi8vcGhvdG8tbW9tZW50cy55eGtpbmcueHl6L3N0YXRpYy9pbWdzL2RlZmF1bHRfbGVjdHVyZS5wbmcnLFxuICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhbGVydCgnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgd3gub25NZW51U2hhcmVUaW1lbGluZShzaGFyZURhdGEpO1xuICAgICAgICAgICAgICAgIHd4Lm9uTWVudVNoYXJlQXBwTWVzc2FnZShzaGFyZURhdGEpO1xuICAgICAgICAgICAgICAgIHd4LmhpZGVNZW51SXRlbXMoe1xuICAgICAgICAgICAgICAgICAgbWVudUxpc3Q6IFtcbiAgICAgICAgICAgICAgICAgICAgJ21lbnVJdGVtOnNoYXJlOnFxJyxcbiAgICAgICAgICAgICAgICAgICAgJ21lbnVJdGVtOnNoYXJlOndlaWJvQXBwJyxcbiAgICAgICAgICAgICAgICAgICAgJ21lbnVJdGVtOnNoYXJlOmZhY2Vib29rJyxcbiAgICAgICAgICAgICAgICAgICAgJ21lbnVJdGVtOnNoYXJlOlFab25lJyxcbiAgICAgICAgICAgICAgICAgICAgJ21lbnVJdGVtOmZhdm9yaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgJ21lbnVJdGVtOmNvcHlVcmwnLFxuICAgICAgICAgICAgICAgICAgICAnbWVudUl0ZW06cmVhZE1vZGUnLFxuICAgICAgICAgICAgICAgICAgICAnbWVudUl0ZW06b3BlbldpdGhRUUJyb3dzZXInLFxuICAgICAgICAgICAgICAgICAgICAnbWVudUl0ZW06b3BlbldpdGhTYWZhcmknLFxuICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB3eC5lcnJvcihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgLy8gd2luZG93LmNvbnNvbGUoJ2Vycm9yJywgcmVzKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDngrnotZ7lj5bmtojngrnotZ5cbiAgICBoYW5kbGVMaWtlKCkge1xuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICBjb25zdCB1cmwgPSB0aGlzLmFwaS5NQUtFX0xPVkU7XG4gICAgICAkKCcucHJldmlldycpLm9uKCd0YXAnLCAnLmJ0bkxpa2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBjb25zdCBfdGhpcyA9ICQodGhpcykucGFyZW50cygnLml0ZW0nKTtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IF90aGlzLmNsb3Nlc3QoJy5wYWdlLXJhbmsnKS5sZW5ndGggPT09IDE7XG4gICAgICAgIGNvbnN0ICRoaW50ID0gJCgnI2hpbnQnKTtcbiAgICAgICAgaWYgKF90aGlzLmhhc0NsYXNzKCdkaXNhYmxlZCcpKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgaWQgPSBfdGhpcy5kYXRhKCdpZCcpO1xuICAgICAgICBjb25zdCBhY3QgPSBwYXJzZUludChfdGhpcy5hdHRyKCdkYXRhLWxvdmUnKSk7XG4gICAgICAgIF90aGlzLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAkLnBvc3QodXJsLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgYWN0XG4gICAgICAgIH0sIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgaWYgKHJlcy5yZXQgPT09IDApIHtcbiAgICAgICAgICBpZiAoYWN0ID09PSAxKSB7XG4gICAgICAgICAgICBfdGhpcy5maW5kKCcuYnRuTGlrZSBiJykudGV4dChwYXJzZUludChfdGhpcy5maW5kKCdiJykudGV4dCgpKSArIDEpO1xuICAgICAgICAgICAgX3RoaXMuZmluZCgnLmJ0bkxpa2UgaScpLmFkZENsYXNzKCdpY29uLWRpYW56YW5lZHgnKS5yZW1vdmVDbGFzcygnaWNvbi1kaWFuemFueCcpO1xuICAgICAgICAgICAgX3RoaXMucmVtb3ZlQXR0cignbG92ZScpO1xuICAgICAgICAgICAgX3RoaXMuYXR0cignZGF0YS1sb3ZlJywgMik7XG4gICAgICAgICAgICBzZWxmLnNob3dUb3N0KCflt7LngrnotZ4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuZmluZCgnLmJ0bkxpa2UgYicpLnRleHQocGFyc2VJbnQoX3RoaXMuZmluZCgnYicpLnRleHQoKSkgLSAxKTtcbiAgICAgICAgICAgIF90aGlzLmZpbmQoJy5idG5MaWtlIGknKS5yZW1vdmVDbGFzcygnaWNvbi1kaWFuemFuZWR4JykuYWRkQ2xhc3MoJ2ljb24tZGlhbnphbngnKTtcbiAgICAgICAgICAgIF90aGlzLnJlbW92ZUF0dHIoJ2xvdmUnKTtcbiAgICAgICAgICAgIF90aGlzLmF0dHIoJ2RhdGEtbG92ZScsIDEpO1xuICAgICAgICAgICAgc2VsZi5zaG93VG9zdCgn5bey5Y+W5raI54K56LWeJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8g5Yi35paw5YiX6KGoXG4gICAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIHNlbGYucGFnZSgncmFuaycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnNob3dUb3N0KHJlcyAmJiByZXMubXNnIHx8ICfnvZHnu5zplJnor6/or7fnqI3lkI7ph43or5UnKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgfSwgJ2pzb24nKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIHBhbHlcbiAgICBwbGF5Vmlkb2VJT1ModmlkZW8sIGlkLCBjYWxsYmFjaykge1xuICAgICAgY29uc3QgJHZpZGVvQ29udGFpbmVyID0gJCgnLnZpZGVvQ29udGFpbmVyJyk7XG4gICAgICBjb25zdCAkdmlkZW8gPSAkdmlkZW9Db250YWluZXIuZmluZCgndmlkZW8nKTtcbiAgICAgICR2aWRlby5hdHRyKCdzcmMnLCB2aWRlbyk7XG4gICAgICAkdmlkZW9Db250YWluZXIuZmluZCgnLmNsb3NlLWljb24nKS5zaG93KCk7XG4gICAgICAkdmlkZW9Db250YWluZXIuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgY29uc3QgJG5ld1ZpZGVvID0gJCgnLnZpZGVvQ29udGFpbmVyIHZpZGVvJyk7XG4gICAgICBjb25zdCAkcGxheUJ0biA9ICQoJy5zY3JvbGxlcicpO1xuICAgICAgJG5ld1ZpZGVvLm9uKCdwbGF5aW5nJywgZSA9PiB7XG4gICAgICAgICR2aWRlb0NvbnRhaW5lci5maW5kKCcuY2xvc2UtaWNvbicpLmhpZGUoKTtcbiAgICAgICAgJHZpZGVvQ29udGFpbmVyLmNzcygnb3BhY2l0eScsIDEpO1xuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5pc0FuZHJvaWQpIHtcbiAgICAgICAgJG5ld1ZpZGVvWzBdLnBsYXkoKTtcbiAgICAgICAgJG5ld1ZpZGVvWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJ4NXZpZGVvZXhpdGZ1bGxzY3JlZW5cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICR2aWRlb0NvbnRhaW5lci5maW5kKCd2aWRlbycpLnJlcGxhY2VXaXRoKGBcbiAgICAgICAgICA8dmlkZW8gXG4gICAgICAgICAgICBpZD1cImotdmlkZW9cIlxuICAgICAgICAgICAgY2xhc3M9XCJ3cmFwcGVyXCJcbiAgICAgICAgICAgIHBsYXlzaW5saW5lIFxuICAgICAgICAgICAgd2Via2l0LXBsYXlzaW5saW5lXG4gICAgICAgICAgICB4LXdlYmtpdC1haXJwbGF5PVwiYWxsb3dcIlxuICAgICAgICAgICAgcHJlbG9hZD1cImF1dG9cIlxuICAgICAgICAgICAgeDUtdmlkZW8tcGxheWVyLXR5cGU9XCJoNVwiXG4gICAgICAgICAgICB4NS12aWRlby1wbGF5ZXItZnVsbHNjcmVlbj1cInRydWVcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIOS9oOeahOa1j+iniOWZqOS4jeaUr+aMgUg15pKt5pS+5ZmoXG4gICAgICAgICAgPC92aWRlbz5gKTtcbiAgICAgICAgICAkdmlkZW9Db250YWluZXIucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoJyNtYXNvbnJ5JykubWFzb25yeSgncmVsb2FkJyk7XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkbmV3VmlkZW9bMF0uYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0ZW5kZnVsbHNjcmVlbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkdmlkZW9Db250YWluZXIucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoJyNtYXNvbnJ5JykubWFzb25yeSgncmVsb2FkJyk7XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyDlv6vnhp/liIfmjaLmkq3mlL7op4bpopHov5jmnKrliqDovb3lr7zoh7TmiqXplJlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAkbmV3VmlkZW9bMF0ucGxheSgpO1xuICAgICAgfSwgNTAwKTtcbiAgICAgICR2aWRlb0NvbnRhaW5lci5vbigndGFwJywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgJHRhcmdldCA9ICQoZS50YXJnZXQpO1xuICAgICAgICBpZiAoJHRhcmdldC5oYXNDbGFzcygndmlkZW9Db250YWluZXInKSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAkdGFyZ2V0LmZpbmQoJ3ZpZGVvJylbMF0ucGF1c2UoKTtcbiAgICAgICAgICAkdmlkZW9Db250YWluZXIucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnRhcmdldC5wYXVzZSgpO1xuICAgICAgICAgICR2aWRlb0NvbnRhaW5lci5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBcblxuXG5cblxuXG4gICAgLy8g6Kej5Yaz5rua5Yqo56m/6YCP6Zeu6aKYXG4gICAgcHJlZml4KCkge1xuICAgICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgJCh3aW5kb3cpLm9uKCdvcmllbnRhdGlvbmNoYW5nZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdmFyIGh0bWxCb3ggPSAkKCdib2R5Jyk7XG4gICAgICAgICAgaWYgKHdpbmRvdy5vcmllbnRhdGlvbiA9PSAxODAgfHwgd2luZG93Lm9yaWVudGF0aW9uID09IDApIHtcbiAgICAgICAgICAgICQoXCIudHVybkJveFwiKS5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHdpbmRvdy5vcmllbnRhdGlvbiA9PSA5MCB8fCB3aW5kb3cub3JpZW50YXRpb24gPT0gLTkwKSB7XG4gICAgICAgICAgICBjb25zdCAkdmlkZW9Db250YWluZXIgPSAkKCcudmlkZW9Db250YWluZXInKTtcbiAgICAgICAgICAgIGlmICgkdmlkZW9Db250YWluZXIuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQoXCJib2R5XCIpLmFwcGVuZCgnPGFzaWRlIGNsYXNzPVwidHVybkJveFwiPjxpbWcgc3JjPVwiL3N0YXRpYy9pbWdzL3R1cm4ucG5nXCIgY2xhc3M9XCJ0dXJuXCI+PHA+6K+35bCG5omL5py66LCD6Iez56uW5bGP54q25oCB77yM6I635b6X5pyA5L2z5rWP6KeI5L2T6aqMPC9wPjwvYXNpZGU+Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgJCgnLmNvbnRhaW5lcicpLm9uKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHZhciBmaXggPSAkKGUudGFyZ2V0KS5wYXJlbnRzKCcuc2Nyb2xsZXInKS5sZW5ndGggfHwgJChlLnRhcmdldCkuaGFzQ2xhc3MoJ3Njcm9sbGVyJyk7XG4gICAgICAgICAgaWYgKCFmaXgpIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBfZml4ID0gJChlLnRhcmdldCkuaGFzQ2xhc3MoJ3Njcm9sbGVyJykgPyAkKGUudGFyZ2V0KVswXSA6ICQoZS50YXJnZXQpLnBhcmVudHMoJy5zY3JvbGxlcicpWzBdO1xuICAgICAgICAgICAgaWYgKF9maXguc2Nyb2xsSGVpZ2h0ID09IF9maXgub2Zmc2V0SGVpZ2h0KSBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgJCgnLnNjcm9sbGVyJykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdmFyIF90aGlzID0gJChlLnRhcmdldClbMF07XG4gICAgICAgICAgaWYgKF90aGlzLnNjcm9sbFRvcCA9PSAwKSB7XG4gICAgICAgICAgICBfdGhpcy5zY3JvbGxUb3AgPSAxO1xuICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMuc2Nyb2xsVG9wID09IF90aGlzLnNjcm9sbEhlaWdodCAtIF90aGlzLm9mZnNldEhlaWdodCkge1xuICAgICAgICAgICAgX3RoaXMuc2Nyb2xsVG9wID0gX3RoaXMuc2Nyb2xsVG9wIC0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLnRyaWdnZXIoJ3Njcm9sbCcpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2Nyb2xsTG9hZE1vcmUgKCkge1xuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAkKCcjcGFnZS1ob21lJykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgJHRhcmdldCA9ICQodGhpcyk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRIID0gcGFyc2VJbnQoJHRhcmdldC5maW5kKCcuaXRlbTpsYXN0JykuY3NzKCd0b3AnKSkgKyBwYXJzZUludCgkdGFyZ2V0LmZpbmQoJy5pdGVtOmxhc3QnKS5jc3MoJ2hlaWdodCcpKTtcbiAgICAgICAgY29uc3Qgc2Nyb2xsSCA9ICR0YXJnZXQuc2Nyb2xsVG9wKCk7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gY29udGVudEggLSBzY3JvbGxIO1xuICAgICAgICBsZXQgY3VycmVudFBhZ2UgPSBzZWxmLmN1cnJlbnRQYWdlO1xuICAgICAgICBpZiAoZGlzdGFuY2UgPCAxODAwICYmICFzZWxmLmxvYWRpbmcgJiYgc2VsZi5oYXNNb3JlKSB7XG4gICAgICAgICAgY3VycmVudFBhZ2UgKz0gMTtcbiAgICAgICAgICBzZWxmLmN1cnJlbnRQYWdlID0gY3VycmVudFBhZ2U7XG4gICAgICAgICAgc2VsZi5nZXRMaXN0KHtcbiAgICAgICAgICAgIHBhZ2U6IGN1cnJlbnRQYWdlLFxuICAgICAgICAgICAgY291bnQ6IDIwLFxuICAgICAgICAgICAgcGF0dGVuOiAxXG4gICAgICAgICAgfSwgJ2hvbWUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBzaG93VG9zdCAodGV4dCkge1xuICAgICAgY29uc3QgJGhpbnQgPSAkKCcjaGludCcpO1xuICAgICAgJGhpbnQudGV4dCh0ZXh0KS5zaG93KCk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgJGhpbnQuYWRkQ2xhc3MoJ3Nob3ctdG9hc3QnKTtcbiAgICAgIH0sIDUwKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAkaGludC5yZW1vdmVDbGFzcygnc2hvdy10b2FzdCcpLm9uZSgnd2Via2l0VHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkaGludC5oaWRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSwgMTQwMCk7XG4gICAgfVxuXG4gICAgcmVuZGVyQmFubmVyICgpIHtcbiAgICAgIGNvbnN0IGJhbm5lckxpc3QgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpbWdVcmw6ICcvc3RhdGljL2ltZ3MvYmFubmVyLnBuZycsXG4gICAgICAgICAgaWQ6IDFcbiAgICAgICAgfSxcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgIGltZ1VybDogJy9zdGF0aWMvaW1ncy9iYW5uZXIucG5nJyxcbiAgICAgICAgLy8gICBpZDogMlxuICAgICAgICAvLyB9LFxuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgaW1nVXJsOiAnL3N0YXRpYy9pbWdzL2Jhbm5lci5wbmcnLFxuICAgICAgICAvLyAgIGlkOiAzXG4gICAgICAgIC8vIH1cbiAgICAgIF07XG4gICAgICBjb25zdCBzbGlkZXJzID0gYmFubmVyTGlzdC5tYXAoc2xpZGUgPT4ge1xuICAgICAgICByZXR1cm4gYDxsaSBpZD1cIiR7c2xpZGUuaWR9XCIgY2xhc3M9XCJzbGlkZXItaXRlbSBvcGVuUGFyYW1cIiBkYXRhLXBhcmFtPVwiXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImltZy13cmFwXCI+XG4gICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJiYW5uZXItaW1hZ2VcIiBzcmM9XCIke3NsaWRlLmltZ1VybH1cIj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9saT5gXG4gICAgICB9KTtcbiAgICAgICQoXCIjYmFubmVyXCIpLmh0bWwoJycpO1xuICAgICAgJChcIiNiYW5uZXJcIikuaHRtbChgPHVsIGNsYXNzPVwic2xpZGVyLWxpc3RcIj4ke3NsaWRlcnMuam9pbignJyl9PC91bD5gKTtcbiAgICAgICQoXCIjYmFubmVyXCIpLnNsaWRlcih7XG4gICAgICAgIFwiYXV0b1Njcm9sbFwiOiB0cnVlLFxuICAgICAgICBcImluZmluaXRlXCI6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgYmFubmVyTGlzdCAoYmFubmVyTGlzdCkge1xuICAgICAgY29uc3Qgc2xpZGVycyA9IGJhbm5lckxpc3QubWFwKHNsaWRlID0+IHtcbiAgICAgICAgcmV0dXJuIGA8bGkgaWQ9XCIke3NsaWRlLmlkfVwiIGNsYXNzPVwic2xpZGVyLWl0ZW0gb3BlblBhcmFtXCIgZGF0YS1wYXJhbT1cIlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbWctd3JhcFwiPlxuICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiYmFubmVyLWltYWdlXCIgc3JjPVwiJHtzbGlkZS5pbWdQYXRofVwiPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xpPmBcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYDx1bCBjbGFzcz1cInNsaWRlci1saXN0XCI+JHtzbGlkZXJzLmpvaW4oJycpfTwvdWw+YDtcbiAgICB9XG5cblxuICB9XG5cbiAgJChmdW5jdGlvbiAoKSB7XG4gICAgbmV3IEFwcCgpO1xuICB9KTtcbn0pKHdpbmRvdywgJCk7XG4iXSwic291cmNlUm9vdCI6IiJ9